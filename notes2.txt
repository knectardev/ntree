

Part 2, which will be even better (for oscillations): normalized projection power

This is more “signal-processing correct” and less noise-sensitive:

coherence = ||projection of x onto sine||² / ||x||²


(We already halfway doing this in spirit with your energy / dominance scores.
Energy (and the per-period scan “score”). This happens inside:
computeOscillationScanOnResidual(resid1m, scanWindowMinutes, periods) 
Dominance (your stability panel + gate’s “dominance >= …” idea)
This happens inside:
computePeriodStability(resid1m, scanWindowMinutes, periods, K=12, stepMinutes=60) 
)


Properties:

Range: 0 → 1

Interpretable as “% of variance explained by this rhythm”

Phase-agnostic if you include both sine + cosine components

UI label:

Rhythm coherence: 0.41 (41% of cleaned motion)

This pairs beautifully with your Insight Summary.

Bonus metric (optional, but very powerful)

Explained variance (R²-like)

After fitting sine:

R² = 1 − Var(residual) / Var(signal)

Add these lines to the Insight Summary:


Normalized projection power: 
Rhythm coherence: 0.41 (41% of cleaned motion) 
